# 外部設計書

## 改訂履歴

| バージョン | 改訂日     | 担当者 | 概要     |
| :--- | :--- | :--- | :--- |
| 1.0.0    | 2025-07-10 | Gemini | 初版作成 |
| 1.0.1    | 2025-07-10 | Gemini | ページ送り機能と表示モード切り替え機能のUI/UX追加 |

## 1. 画面レイアウト

### 1.1. 全体構成

アプリケーションは単一の画面で構成される。画面は以下の要素から成る。

- **ヘッダー:**
    - アプリケーションのタイトル（「PDF Viewer」）
- **コントロールエリア:**
    - PDFファイルを選択するためのファイル入力コントロール
    - **表示モード切り替えスイッチ:**
        - 「ページ送りモード」のラベルとチェックボックス（トグルスイッチ）
- **ビューワーエリア:**
    - 選択されたPDFの各ページが描画されるコンテナ
- **ページ送りコントロール (ページ送りモード時のみ表示):**
    - 「前へ」ボタン
    - 現在のページ番号と総ページ数を表示するテキスト
    - 「次へ」ボタン

### 1.2. PDFページ要素

ビューワーエリアに表示される各PDFページは、`<canvas>`要素として描画される。

- **スクロールモード時:** 複数のページを持つPDFの場合、各ページは縦に並べて表示され、全体をスクロールして閲覧する。
- **ページ送りモード時:** 現在のページのみが表示され、ビューワーエリアの高さは固定される。

## 2. 画面遷移

本アプリケーションは単一ページアプリケーション（SPA）であり、画面遷移は発生しない。すべての操作は同一画面内で完結する。

## 3. インタラクション

### 3.1. PDFの表示プロセス

1.  ユーザーがファイル選択エリアの「ファイルを選択」ボタンをクリックする。
2.  OSのファイル選択ダイアログが開く。
3.  ユーザーがPDFファイルを選択し、ダイアログを閉じる。
4.  アプリケーションが選択されたファイルを読み込み、現在の表示モード（デフォルトはスクロールモード）でPDFのレンダリングを開始する。
5.  以前にPDFが表示されていた場合は、新しいPDFの内容に置き換わる。

### 3.2. 表示モードの切り替え

1.  ユーザーが「ページ送りモード」のチェックボックスを操作する。
2.  チェックボックスがオンの場合、表示モードが「ページ送りモード」に切り替わり、ページ送りコントロールが表示される。PDFは現在のページのみが表示される。
3.  チェックボックスがオフの場合、表示モードが「スクロールモード」に切り替わり、ページ送りコントロールは非表示になる。PDFは全ページが縦に連続して表示される。

### 3.3. ページ送り機能 (ページ送りモード時)

1.  「前へ」ボタンをクリックすると、表示ページが1つ前のページに切り替わる。最初のページではボタンが無効化される。
2.  「次へ」ボタンをクリックすると、表示ページが1つ次のページに切り替わる。最後のページではボタンが無効化される。
3.  ページ番号表示は、常に現在のページと総ページ数を「X / Y」の形式で更新する。